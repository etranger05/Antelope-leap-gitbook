---
description: Antelope Software Customizing
---

# Antelope 소프트웨어 커스터마이징

## eosio.token 컨트랙트 커스터마이징

과거 5년간 다수의 프로젝트에서 디폴트 토큰 컨트랙트에 자신만의 기능을 추가하려는 시도가 있었습니다. 하지만 일반적으로는 여러가지 이유로 이러한 시도는 가능한 하지 않는 것이 좋습니다.

디폴트 토큰 컨트랙트 코드는 검증하는 사람도, 감시하는 사람도 많기 때문에 잘못될 가능성이 적고 대체로 거의 결점 없이 안전하다고 여겨집니다. 코드도 심플하고 상당한 수준의 보안이 적용되어 있습니다.

따라서 이러한 코드를 수정하게 되면 예측하기 어려운 보안 문제가 발생하여 심각한 재정상의 손실을 불러올 가능성도 있습니다.

누군가 재정보고서를 작성할 필요가 있다면, 재정 잔고가 엄격하게 `transfer` 액션에 의해서만 업데이트 되었을 것이라는 전제 하에 보고서를 작성할 것입니다.

만약 `transfer` 액션을 수행하여 변경된 내용이 반영되지 않은 채, 커스터마이징 된 토큰 컨트랙트의 어떠한 내부 로직에 의해 토큰 잔고가 변경된다면 재정보고서를 신뢰도에 심각한 타격을 주게 될 것입니다.

어떤 프로젝트에서 커스텀 로직(예를 들어 `transfer` 를 수행할 때 마다 자산의 일부를 소각하는 디플레이션 토큰)을 구현해야 한다면 컨트랙트는 관련된 인라인 액션을 발행하여 블록체인 히스토리에서 정확하게 잔고 변경 내역을 추적할 수 있습니다.

## 공개 키 포맷 커스터마이징

EOSIO/Antelope 소프트웨어는 기본적으로 `EOS77qVt59tgxMos8Ru5Wqz7yLUwAT95v2pFf7CYWpS3CW7quE1we` 와 같은 레거시 공개 키 형식을 지원합니다. 또한 `PUB_K1_77qVt59tgxMos8Ru5Wqz7yLUwAT95v2pFf7CYWpS3CW7q2wB35` 와 같은 중립 표기법(neutral notation) 도 지원합니다.(이는 바이너리 포맷에서 똑같은 256 비트의 공개키를 결과로 내놓습니다). `PUB_R1_xxx` 과 같은 형식을 가지는 secp256r1 키도 중립 표기법 형식으로 지원합니다.

어떤 프로젝트는 EOS 블록체인과 거리를 두기 위해 독자적인 공개 키 표기법을 도입하려 합니다. 기본적으로는 EOS 라는 접두사를 해당 토큰의 토큰 기호로 바꾸는 것이죠. 그러나 이는 여러가지 문제를 일으킬 수 있으며 블록체인을 관리하는데 비싼 비용을 치뤄야 할 수도 있습니다.

* 지갑, 체인 정보 웹사이트, 백엔드 도구, 미들웨어 라이브러리와 같은 이런저런 오픈소스 소프트웨어와의 호환성을 잃을 수도 있습니다. 이러한 블록체인은 자신만의 라이브러리와 도구들을 스스로 만들고 관리해야 하기 때문에 상당한 노력과 비용이 들어갈 수 있습니다.
* 대부분의 블록 생산자들은 공용 하드웨어상에서 다수의 블록체인을 운용합니다. 이러한 프로젝트는 다른 블록체인과는 다른, 별도의 바이너리 세트를 관리해야하기 때문에 서버 관리자의 업무를 가중시키게 됩니다. 또한 노드 환경설정과 스크립트가 새로운 키 형식에 맞게 수정되어야 합니다.

따라서 레거시 키 형식을 변경하기 보다는 가능한 중립 표기법을 사용하고 독자적인 키 표기법을 사용하는것은 지양하는 것이 좋습니다.

## 노드 소프트웨어 커스터마이징

다수의 블록체인 프로젝트들이 노드 소프트웨어에 자신만의 커스터마이징 된 기능들을 추가하곤 합니다. 몇몇 케이스에서는 커스터마이징 한 기능들이 깊히 박혀 있어 원래의 업스트림 소프트웨어를 따라가기 어렵게 만들기도 합니다.

### 새로운 내장함수(Intrinsics) 추가

`nodeos` 의 표준 내장함수는 경우에 따라 블록체인 프로젝트에서 필요로 하는 기능을 충족시키지 못할 수도 있기 때문에 새로운 함수를 추가해야 할 수도 있습니다.

`nodeos` 는 플러그인으로 새로운 기능을 추가할 수 있도록 모듈러 스타일 구조로 구축되었지만, 플러그인에서 내장 함수를 정의할 수는 없게 되어 있습니다. 모든 내장함수는 chain 라이브러리에 구현되어 있으며 일련의 내장 함수 인덱스를 가지고 있습니다. 이 인덱스의 순서는 중요하기 때문에 임의로 재정렬 하지 않는 것이 좋습니다. 새로운 내장함수를 추가해야 한다면 인덱스 목록의 가장 아래에 추가 해야만 합니다.&#x20;

만약 어떤 프로젝트에서 독자적인 내장 함수를 추가했는데, 업스트림 소프트웨어에 무언가 새로 추가 되었다면, 이 새로운 함수들은 프로젝트에서 추가한 내장 함수의 다음에 추가될 것입니다. 새로운 소프트웨어가 내장함수를 재정렬 한다면 OC 컴파일러 캐시를 수동으로 지워야 하기 때문에 업그레이드 시에 혼선이 빚어질 수 있습니다.

변경된 내용이 매우 적고 기존 코드와 분리된 형태로 작성 되었다면 업스트림 소프트웨어 업데이트와 동기화 하는 것은 대체로 어렵지는 않은 편입니다.

### 노드 동작(node behavior) 을 변경

어떤 프로젝트들은 계정을 생성 하거나 블록 생산자를 등록할 때 노드의 디폴트 동작 로직을 변경해야 할 수도 있습니다. 일반적인 경험으로는 노드 소프트웨어는 가능한 그대로 두고, 변경하고 싶은 내용은 시스템 컨트랙트를 가지고 수행하는 것이 좋습니다. 스마트 컨트랙트를 사용하는 것이 유지보수 비용이 훨씬 덜 들고 네트워크 전체를 업그레이드 할 필요도 없습니다.

그럼에도 불구하고 `nodeos` 를 변경해야 한다면, 체인에서 활성화 (activation) 가 가능한 형태로 작성하는 것이 좋습니다. 이렇게 하면 수정되지 않은 기존의 바닐라 `nodeos` 소프트웨어가 블록을 받아들이지 못하게 되어 블록체인과도 동기화 할 수 없게 됩니다.

또한 원본 소스코드와 비교했을 때 수정은 최소화 하는 것이 좋습니다. 그러면 원본 소스 코드와 머지 할 때 적은 노력으로도 소프트웨어를 업그레이드 할 수 있습니다.

### 소프트웨어 컴포넌트 이름 바꾸기

`nodeos`, `cleos`, `keosd` 와 같은 Antelope 소프트웨어 메인 컴포넌트는 아직 EOS 라는 이름을 가지고 있습니다. 프로젝트 브랜딩 차원에서 EOS 와 거리를 두기 위해 컴포넌트에 새겨진 eos 라는 이름을 바꾸고 싶을 것입니다.&#x20;

그러나 이름을 바꾸는 것은 장점보다는 단점이 많습니다. 상당수의 현존 튜토리얼이나 자동화 스크립트에서 기존의 이름을 사용하고 있습니다. 그리고 관리자들 또한 기존의 이름이 익숙해져 있기 때문에 이름을 변경하면 네트워크 유지보수에 어려움만 가중시키는 꼴이 되고 맙니다.

거기에 더하여 이름을 바꾸는 것은 오리지널 소프트웨어의 오픈 소스 라이선스와 저작권에 대한 위반사항이 되어 법적인 문제를 일으킬 가능성도 있습니다.
